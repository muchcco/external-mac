import{c as me,d as N,f as B,g as fe,h as F}from"./chunk-WXI33M2S.js";import{a as ue}from"./chunk-6JVGPQO3.js";import{$ as ce,A as J,B as r,C as l,D as v,E as _,F as x,G as $,H as ee,J as te,K as ie,L as ne,M as c,N as M,O as b,P as O,Q as D,R as oe,S as se,T as re,U as ae,W as P,X as le,Y as y,a as U,b as K,e as q,ea as de,f as G,h as S,i as f,ia as pe,j as w,ja as L,k as Q,ka as he,l as C,la as ge,m as h,ma as we,n as X,na as ye,o as j,oa as Ce,p as Z,pa as ve,ra as be,s as Y,t as d,u,x as m,y as p,z as I}from"./chunk-DLM5667I.js";import{a as Te}from"./chunk-RKUEIAI7.js";import{a as k,b as E,e as Ae}from"./chunk-EQDQRRRY.js";var T=Ae(Te());var Re=["overlay"],ke=["*"];function Ee(e,o){e&1&&v(0,"div")}function je(e,o){if(e&1&&(r(0,"div"),m(1,Ee,1,0,"div",6),l()),e&2){let i=x(2);J(i.spinner.class),I("color",i.spinner.color),d(),p("ngForOf",i.spinner.divArray)}}function Le(e,o){if(e&1&&(v(0,"div",7),se(1,"safeHtml")),e&2){let i=x(2);p("innerHTML",re(1,1,i.template),Y)}}function Ne(e,o){if(e&1&&(r(0,"div",2,0),m(2,je,2,5,"div",3)(3,Le,2,3,"div",4),r(4,"div",5),ee(5),l()()),e&2){let i=x();I("background-color",i.spinner.bdColor)("z-index",i.spinner.zIndex)("position",i.spinner.fullScreen?"fixed":"absolute"),p("@.disabled",i.disableAnimation)("@fadeIn","in"),d(2),p("ngIf",!i.template),d(),p("ngIf",i.template),d(),I("z-index",i.spinner.zIndex)}}var Fe={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},V={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},H="primary",g=class e{constructor(o){Object.assign(this,o)}static create(o){return!o?.template&&!o?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new e(o)}},z=(()=>{let o=class o{constructor(){this.spinnerObservable=new K(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(q(n=>n&&n.name===t))}show(t=H,n){return new Promise((s,a)=>{setTimeout(()=>{n&&Object.keys(n).length?(n.name=t,this.spinnerObservable.next(new g(E(k({},n),{show:!0}))),s(!0)):(this.spinnerObservable.next(new g({name:t,show:!0})),s(!0))},10)})}hide(t=H,n=10){return new Promise((s,a)=>{setTimeout(()=>{this.spinnerObservable.next(new g({name:t,show:!1})),s(!0)},n)})}};o.\u0275fac=function(n){return new(n||o)},o.\u0275prov=S({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})(),Oe=new w("NGX_SPINNER_CONFIG"),Ve=(()=>{let o=class o{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}};o.\u0275fac=function(n){return new(n||o)(u(de,16))},o.\u0275pipe=X({name:"safeHtml",type:o,pure:!0,standalone:!0});let e=o;return e})(),De=(()=>{let o=class o{constructor(t,n,s,a){this.spinnerService=t,this.changeDetector=n,this.elementRef=s,this.globalConfig=a,this.disableAnimation=!1,this.spinner=new g,this.ngUnsubscribe=new U,this.setDefaultOptions=()=>{let{type:R}=this.globalConfig??{};this.spinner=g.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??R,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=V.BD_COLOR,this.zIndex=V.Z_INDEX,this.color=V.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=H,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(G(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement?!0:t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(let n in t)if(n){let s=t[n];if(s.isFirstChange())return;typeof s.currentValue<"u"&&s.currentValue!==s.previousValue&&s.currentValue!==""&&(this.spinner[n]=s.currentValue,n==="showSpinner"&&(s.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),n==="name"&&this.initObservable())}}getClass(t,n){this.spinner.divCount=Fe[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((a,R)=>R);let s="";switch(n.toLowerCase()){case"small":s="la-sm";break;case"medium":s="la-2x";break;case"large":s="la-3x";break;default:break}return"la-"+t+" "+s}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}};o.\u0275fac=function(n){return new(n||o)(u(z),u(ae),u(Z),u(Oe,8))},o.\u0275cmp=C({type:o,selectors:[["ngx-spinner"]],viewQuery:function(n,s){if(n&1&&te(Re,5),n&2){let a;ie(a=ne())&&(s.spinnerDOM=a.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[j,oe],ngContentSelectors:ke,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(n,s){n&1&&($(),m(0,Ne,6,12,"div",1)),n&2&&p("ngIf",s.spinner.show)},dependencies:[Ve,le,P],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[me("fadeIn",[fe("in",B({opacity:1})),F(":enter",[B({opacity:0}),N(300)]),F(":leave",N(200,B({opacity:0})))])]},changeDetection:0});let e=o;return e})(),Se=(()=>{let o=class o{static forRoot(t){return{ngModule:o,providers:[{provide:Oe,useValue:t}]}}};o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=h({type:o}),o.\u0275inj=f({imports:[y]});let e=o;return e})();function ze(e,o){if(e&1&&(r(0,"option",28),c(1),l()),e&2){let i=o.$implicit;p("value",i.IDCENTRO_MAC),d(),M(i.NOMBRE_MAC)}}function We(e,o){if(e&1&&(r(0,"option",28),c(1),l()),e&2){let i=o.$implicit;p("value",i.IDENTIDAD),d(),M(i.NOMBRE_ENTIDAD)}}function Ue(e,o){if(e&1&&(r(0,"option",28),c(1),l()),e&2){let i=o.$implicit;p("value",i.IDTIPO_DOC),d(),M(i.TIPODOC_ABREV)}}var Ie=(()=>{class e{apiService;spinner;router;id_mac=[];id_tip_doc=[];entidades=[];nom_mac="";tip_doc="";options="";num_doc="";entidad="";constructor(i,t,n){this.apiService=i,this.spinner=t,this.router=n}ngOnInit(){this.getMac()}getMac(){this.apiService.getPersonalCombo().subscribe(i=>{i.status==!0&&(this.id_mac=i.nom_mac,this.id_tip_doc=i.tip_doc,console.log("ULTIMO:",i.nom_mac))})}onCentroMacChange(){console.log("ret:",this.nom_mac),this.nom_mac&&this.apiService.getEntityCombo(this.nom_mac).subscribe(i=>{i.status===!0&&(this.entidades=i.options)},i=>{console.error("Error fetching entity combo:",i)})}validarDatos(){if(console.log("Tipo de Documento:",this.tip_doc),console.log("N\xFAmero de Documento:",this.num_doc),console.log("Entidad:",this.options),console.log("Centro MAC:",this.nom_mac),!this.tip_doc||!this.num_doc||!this.options||!this.nom_mac){T.default.fire({icon:"error",title:"Campos incompletos",text:"Por favor, complete todos los campos requeridos."});return}let i={tip_doc:this.tip_doc,num_doc:this.num_doc,entidad:this.options,nom_mac:this.nom_mac};this.spinner.show(),this.apiService.validateData(i).subscribe(t=>{this.spinner.hide(),console.log(t),t.status=="201"||t.status=="202"?T.default.fire({icon:"info",text:t.message,confirmButtonText:"Aceptar"}):t.status===!0&&(console.log(t),this.router.navigate(["/formdata"],{queryParams:{num_doc:this.num_doc}}))},t=>{this.spinner.hide(),console.error("Error de validaci\xF3n:",t),T.default.fire({icon:"warning",text:t.message,confirmButtonText:"Aceptar"})})}static \u0275fac=function(t){return new(t||e)(u(ue),u(z),u(pe))};static \u0275cmp=C({type:e,selectors:[["app-personal"]],decls:53,vars:8,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-scale-multiple",3,"fullScreen"],[2,"color","white"],[1,"col-12"],[1,"card"],[1,"card-header","text-bg-dark"],[1,"text-center","tex"],[1,"card-header","text-bg-success"],[1,"tex"],[1,"card-body"],[1,"form-p"],[1,"row","col-sm-12","buut"],[1,"mb-3","col-5"],["for","IdTipoPersona",1,"control-label"],[1,"text-danger","fw-bolder"],[1,"input-group","col-6"],["name","nom_mac",1,"form-select","col-6",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"mb-3","col-6"],["name","entidad",1,"form-select","col-6",3,"ngModelChange","ngModel"],[1,"mb-3"],[1,"row","col-12"],[1,"col-sm-4"],["name","tip_doc",1,"form-select","col-6",3,"ngModelChange","ngModel"],[1,"col-sm-6"],["type","text","name","num_doc","placeholder","N\xFAmero de Documento",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-2"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(t,n){t&1&&(r(0,"ngx-spinner",0)(1,"p",1),c(2," Obteniendo datos... "),l()(),r(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),c(7,"FICHA DE DATOS CENTROS MAC"),l()()()(),v(8,"br"),r(9,"div",2)(10,"div",3)(11,"div",6)(12,"div",7),c(13,"DATO INICIAL"),l()(),r(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"label",12),c(19,"Centro MAC o Sede donde se encuentre "),r(20,"span",13),c(21,"(*)"),l()(),r(22,"div",14)(23,"select",15),D("ngModelChange",function(a){return O(n.nom_mac,a)||(n.nom_mac=a),a}),_("change",function(){return n.onCentroMacChange()}),r(24,"option",16),c(25,"-- Seleccione un Centro MAC --"),l(),m(26,ze,2,2,"option",17),l()()(),r(27,"div",18)(28,"label",12),c(29,"Seleccione su Entidad "),r(30,"span",13),c(31,"(*)"),l()(),r(32,"div",14)(33,"select",19),D("ngModelChange",function(a){return O(n.options,a)||(n.options=a),a}),r(34,"option",16),c(35,"-- Seleccione una Entidad --"),l(),m(36,We,2,2,"option",17),l()()(),r(37,"div",20)(38,"div",21)(39,"label",12),c(40,"Ingresar el tipo y n\xFAmero de Documento "),r(41,"span",13),c(42,"(*)"),l()(),r(43,"div",22)(44,"select",23),D("ngModelChange",function(a){return O(n.tip_doc,a)||(n.tip_doc=a),a}),r(45,"option",16),c(46,"-- Tipo de documento --"),l(),m(47,Ue,2,2,"option",17),l()(),r(48,"div",24)(49,"input",25),D("ngModelChange",function(a){return O(n.num_doc,a)||(n.num_doc=a),a}),l()(),r(50,"div",26)(51,"button",27),_("click",function(){return n.validarDatos()}),c(52,"Ingresar"),l()()()()()()()()()),t&2&&(p("fullScreen",!0),d(23),b("ngModel",n.nom_mac),d(3),p("ngForOf",n.id_mac),d(7),b("ngModel",n.options),d(3),p("ngForOf",n.entidades),d(8),b("ngModel",n.tip_doc),d(3),p("ngForOf",n.id_tip_doc),d(2),b("ngModel",n.num_doc))},dependencies:[P,Ce,ve,he,ye,ge,we,De]})}return e})();var Ke=[{path:"",component:Ie}],_e=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=h({type:e});static \u0275inj=f({imports:[L.forChild(Ke),L]})}return e})();var W=new w("@sweetalert2/ngx-sweetalert2#swalProvider"),xe=new w("@sweetalert2/ngx-sweetalert2#fireOnInit"),Me=new w("@sweetalert2/ngx-sweetalert2#dismissOnDestroy"),Pe=(()=>{class e{swalProvider;swalPromiseCache;constructor(i){this.swalProvider=i}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;let i=t(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=i.then(s=>n(s)?s:s.default);function t(s){return typeof s=="function"&&s.version===void 0}function n(s){return typeof s=="function"}}static \u0275fac=function(t){return new(t||e)(Q(W))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();function qe(){return import("./chunk-XLAU3B2F.js")}var Be=(()=>{class e{static forRoot(i={}){return{ngModule:e,providers:[Pe,{provide:W,useValue:i.provideSwal||qe},{provide:xe,useValue:i.fireOnInit||!1},{provide:Me,useValue:i.dismissOnDestroy||!0}]}}static forChild(i={}){return{ngModule:e,providers:[...i.provideSwal?[Pe,{provide:W,useValue:i.provideSwal}]:[],...i.fireOnInit!==void 0?[{provide:xe,useValue:i.fireOnInit}]:[],...i.dismissOnDestroy!==void 0?[{provide:Me,useValue:i.dismissOnDestroy}]:[]]}}static \u0275fac=function(t){return new(t||e)};static \u0275mod=h({type:e});static \u0275inj=f({imports:[y]})}return e})();var Xt=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=h({type:e});static \u0275inj=f({imports:[y,_e,ce,be,Be.forRoot(),Se.forRoot({type:"ball-scale-multiple"})]})}return e})();export{Xt as PersonalModule};
